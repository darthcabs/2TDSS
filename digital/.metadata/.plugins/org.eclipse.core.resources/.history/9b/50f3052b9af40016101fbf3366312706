package br.com.fiap.loja;

import java.text.DecimalFormat;
import java.text.SimpleDateFormat;
import java.util.Calendar;
import java.util.Scanner;

import org.slf4j.Logger;
import org.slf4j.LoggerFactory;

import br.com.fiap.loja.bo.EstoqueBO;
import br.com.fiap.loja.config.PropertySingleton;
import br.com.fiap.loja.to.ProdutoTO;

public class TerminalConsulta {
	private static Logger log = LoggerFactory.getLogger(TerminalConsulta.class);
	
	public static void main(String[] args) {

		Scanner scanner = new Scanner(System.in);

		SimpleDateFormat sdf = new SimpleDateFormat("dd/MM/yyyy HH:mm");
		String loja = PropertySingleton.getInstance().getProperty("nome");
		
		System.out.println(loja + "            " + sdf.format(Calendar.getInstance().getTime()));
		System.out.println("**************************************");

		System.out.print("Digite o código: ");
		int codigo = scanner.nextInt();

		EstoqueBO bo = new EstoqueBO();
		ProdutoTO produto = bo.consultarProduto(codigo);
		log.trace("Product found.");

		if (produto != null) {
			System.out.println("\nProduto: " + produto.getDescricao());
			System.out.println("Quantidade: " + produto.getQuantidade());
			DecimalFormat format = new DecimalFormat("R$ #,###.00");
			System.out.println("Preço: " + format.format(produto.getPreco()));
		} else {
			System.out.println("\nProduto não cadastrado");
		}

		scanner.close();
	}
}